---!function
name: dpcheck
namespace: Auxiliary
description: |-
  Checks for cards with different properties. Usually used with `aux.SelectUnselectGroup`.
status:
  index: stable
parameters:
  - name: f
    type: [ function ]
    description: A function that returns a certain property of `Card`, e.g `Card.GetCode`, `Card.GetAttribute`, etc.
returns:
  - type: [ bool ]
    description: When all `Card`s have different properties.
guide: |-
  `dpcheck` is a function usually used with `aux.SelectUnselectGroup` as a `SubgroupFilter` to check `Card`s in `Group` `sg` have different properties.
  
  Suppose you want to check and select 3 `Card`s in your hand but their Attributes must all be different,
  a simple example would be:
  ```lua
  function s.target(e,tp,eg,ep,ev,re,r,rp,chk)
  	local g=Duel.GetMatchingGroup(nil,tp,LOCATION_HAND,0,nil)
  	if chk==0 then return aux.SelectUnselectGroup(g,e,tp,3,3,dpcheck(Card.GetAttribute),0) end
  end
  ```
  
  This will return `true` when there are 3 `Card`s with different Attributes in your hand.
  
  So now we come to selection:
  ```lua
  function s.operation(e,tp,eg,ep,ev,re,r,rp)
  	local g=Duel.GetMatchingGroup(nil,tp,LOCATION_HAND,0,nil)
  	local sg=aux.SelectUnselectGroup(g,e,tp,3,3,dpcheck(Card.GetAttribute),1,tp,HINTMSG_SELECT)
  	
  	if #sg>0 then
  		--  you can do something with them here
  	end
  end
  ```
  
  This will select 3 monsters with different Attributes.
  If at this point the `Card`s in your hand no longer meet the above conditions,
  the function will return an empty `Group`.
  
  In addition, if you want to check and select up to 3 instead of 3, you just need edit it to:
  ```lua
  if chk==0 then return aux.SelectUnselectGroup(g,e,tp,1,3,dpcheck(Card.GetAttribute),0) end
  ```
  
  ```lua
  local sg=aux.SelectUnselectGroup(g,e,tp,1,3,dpcheck(Card.GetAttribute),1,tp,HINTMSG_SELECT,dpcheck(Card.GetAttribute))
  ```
  
  You can see that in the select part, I used `dpcheck` as an argument for `cancelcon`,
  which means that if you select 2 `Card`s, those 2 `Card`s must have different Attributes
  before you can press the `finish` button, and similarly with 3.  
suggestedLinks:
  - name: aux.SelectUnselectGroup
    link: https://projectignis.github.io/scrapi-book/api/functions/Auxiliary/SelectUnselectGroup.html#auxiliary-selectunselectgroup
  - name: SubgroupFilter
    link: https://projectignis.github.io/scrapi-book/api/types/SubgroupFilter.html#subgroupfilter
  - name: Card.GetAttribute
    link: https://projectignis.github.io/scrapi-book/api/functions/Card/GetAttribute.html#card-getattribute