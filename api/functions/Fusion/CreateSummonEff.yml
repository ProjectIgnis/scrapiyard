---!function
name: CreateSummonEff
namespace: Fusion
description: |-
  Function that generates a Fusion Summon effect, called from the Fusion Summon Procedure defined in "proc_fusion.lua" and "proc_fusion_spell.lua". By default it's usable with Normal Spell/Trap Cards; usage by other card types requires changing the type and code of the effect afterwards.
summary: Creates an effect that does a Fusion Summon.
status:
  index: stable
parameters:
  - name: c
    type: [ Card ]
    description: The Card that uses the effect.
  - name: fusfilter
    type: [ function ]
    description: A `CardFilter` for the monsters that can be Fusion Summoned with the effect.
  - name: matfilter
    type: [ function ]
    description:  A `CardFilter` that will be applied to the cards that can be used as materials, after they are obtained by GetFusionMaterial.
  - name: extrafil
    type: [ function ]
    description: A function that returns a group of extra cards that can be used as materials, and as second optional return an additional filter function. 
  - name: extraop
    type: [ function ]
    description: A function to perform a different operation on the materials (for example, `Fusion.BanishMaterial`, `Fusion.ShuffleMaterial` or a custom function).
  - name: gc
    type: [ Card, Group]
    description:  Card or Group of cards that must be used as fusion material (mandatory)(e.g. Soprano the Melodious Songtress).
  - name: stage2
    type: [ function ]
    description: A function called after the summon, to execute additional steps (e.g. Shaddol Ruq, Instant Fusion).
  - name: exactcount
    type: [ int ]
    description: The exact number of materials that must be used (e.g. Ostinato)
  - name: sum_type
    type: [ int ]
    description: The summon type that will be use for the summon.
    required: false
    default: SUMMON_TYPE_FUSION|MATERIAL_FUSION
  - name: location
    type: [ int ]
    description: The location the monsters can be summoned from.
    required: false
    default: LOCATION_EXTRA
  - name: chkf
    type: [ int ]
    description: A flag from `FusionProcFlag` to be used for the Fusion Summon.
  - name: desc
    type: [ string ]
    description: An integer pointing to a string for the effect's description.
    required: false
    default: The default string 1170: "Fusion Summon".
  - name: preselect
    type: [ function ]
    description: function that is executed after selecting the monster but before performing the Fusion Summon (e.g. Clock Lizard).
  - name: nosummoncheck
    type: [ bool ]
    description: if set to true then the procedure will not check if the monster can be Special Summoned in its current state.
  - name: extratg
    type: [ function ]
    description: additional target function that will be executed when activating the effect (e.g. Miracle Fusion). Useful when extra operation info must be set.
  - name: mincount
    type: [ int ]
    description: the minimum number of materials that must be used.
  - name: maxcount
    type: [ int ]
    description: the maximum number of materials that can be used.
  - name: sumpos
    type: [ int ]
    description: the monster's summoning position.
    required: false
    default: POS_FACEUP
returns:
  - type: [ effect ]
    description: (To be added)
tags: [ under-construction ]
